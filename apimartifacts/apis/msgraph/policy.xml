<!--
    - Policies are applied in the order they appear.
    - Position <base/> inside a section to inherit policies from the outer scope.
    - Comments within policies are not preserved.
-->
<!-- Add policies as children to the <inbound>, <outbound>, <backend>, and <on-error> elements -->
<policies>
	<!-- Throttle, authorize, validate, cache, or transform the requests -->
	<inbound>
		<base />
		<get-authorization-context provider-id="userdelegated" authorization-id="userdelegatedconnection" context-variable-name="auth-context" identity-type="jwt" identity="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkwxS2ZLRklfam5YYndXYzIyeFp4dzFzVUhIMCIsImtpZCI6IkwxS2ZLRklfam5YYndXYzIyeFp4dzFzVUhIMCJ9.eyJhdWQiOiJodHRwczovL2F6dXJlLWFwaS5uZXQvYXV0aG9yaXphdGlvbi1tYW5hZ2VyIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvMjFjOTMxNWItY2RjOC00MWM4LWIzMGQtZDRkYTJjNWE4MDRiLyIsImlhdCI6MTcxODI3ODU4OCwibmJmIjoxNzE4Mjc4NTg4LCJleHAiOjE3MTgyODM5NTgsImFjciI6IjEiLCJhaW8iOiJBVFFBeS84V0FBQUFXaExCcDBpNW5CY3IxMi9ob3VpTnB4a1d3aEFpWXkyNFFtd0dnU29tbmRXYXk5L01DcHoyVElqK3VYWEp3TFZqIiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6ImQ4MTlhZjRhLTg1MWMtNGQwZi04ODc2LTk1Y2NmN2UyYzZmOCIsImFwcGlkYWNyIjoiMSIsImZhbWlseV9uYW1lIjoiam9obiIsImdpdmVuX25hbWUiOiJydXNzZWxsIiwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiNzUuMTgzLjgxLjg4IiwibmFtZSI6InJ1c3NlbGwiLCJvaWQiOiJlZDg5NjkxMi0wNDgxLTQyODItYjQ4Mi1jM2RlZDU2YTk2NzEiLCJwdWlkIjoiMTAwMzIwMDJGOTFBQzcwMSIsInJoIjoiMC5BU2dBV3pISkljak55RUd6RGRUYUxGcUFTMEEtWXNpcjVpdE5zU01zb1pOVUxHVW9BSGcuIiwic2NwIjoiQXV0aG9yaXphdGlvbnMuUmVhZCIsInN1YiI6InFJSGdmVlFRTlJ2c09QSWhxdDJwOGE3WnR4Q2ttUG9SV2NfdnBkMjRVU0kiLCJ0aWQiOiIyMWM5MzE1Yi1jZGM4LTQxYzgtYjMwZC1kNGRhMmM1YTgwNGIiLCJ1bmlxdWVfbmFtZSI6InJ1c3NlbGxAbWFydGluMjE3Nm91dGxvb2sub25taWNyb3NvZnQuY29tIiwidXBuIjoicnVzc2VsbEBtYXJ0aW4yMTc2b3V0bG9vay5vbm1pY3Jvc29mdC5jb20iLCJ1dGkiOiJQYU1EYlp0NnFVU09RcEhCeXRVT0FBIiwidmVyIjoiMS4wIn0.mIODJPvUypACvLiUdcnJqF3OBzVWs7VGtYjDrDjb78gSfKxio64rm--ME9Qd8CK7tKVfZC7j67VbImW9Nz968B7C9U4MD7Xztft8fSIiQeulpaFzuqZw4za5VQP2O9il3-e4E_nIrbABf8eB7ej_4cELoajsGoP7z8XURlSP758PZhaaWF8qXoqGGV7vs6YQGKBq_luRTF2rr3DbpefU1KwQgWHMIVvQ8Kbvr9afjZHDtV3oV_SYPw9PRI6gRF4Ctut1SCREMt3vl2MYVzLZmfksH_vOjFJr4f9-rjtBr56w0sjumGPm4KQDmk8BEMOg6x2eb-EACrUyw-MZhbtnJQ" ignore-error="false" />
		<set-header name="Authorization" exists-action="override">
			<value>@("Bearer " + ((Authorization)context.Variables.GetValueOrDefault("auth-context"))?.AccessToken)</value>
		</set-header>
	</inbound>
	<backend>
		<base />
	</backend>
	<outbound>
		<base />
	</outbound>
	<on-error>
		<base />
	</on-error>
</policies>